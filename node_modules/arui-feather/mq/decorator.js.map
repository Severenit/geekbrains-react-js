{"version":3,"sources":["mq/decorator.jsx"],"names":["mqDecorator","query","propName","Component","mql","state","matched","componentDidMount","handleMatchChange","addListener","componentWillUnmount","removeListener","render","createElement","props","setState","matches"],"mappings":";;;kBASwBA,W;;AALxB;;;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EANA;;;;AASe,SAASA,WAAT,CAAqBC,KAArB,EAAkD;AAAA,QAAtBC,QAAsB,uEAAX,SAAW;;AAC7D,WAAO,UAAUC,SAAV,EAAqB;AAAA;;AACxB;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA,oKACIC,GADJ,GACU,IADV,QAGIC,KAHJ,GAGY;AACJC,6BAAS;AADL,iBAHZ;AAAA;;AAAA,6BAOIC,iBAPJ,gCAOwB;AAChB,qBAAKH,GAAL,GAAW,+BAAcH,KAAd,CAAX;AACA,qBAAKO,iBAAL,CAAuB,KAAKJ,GAA5B;AACA,qBAAKA,GAAL,CAASK,WAAT,CAAqB,KAAKD,iBAA1B;AACH,aAXL;;AAAA,6BAaIE,oBAbJ,mCAa2B;AACnB,mDAAkBT,KAAlB;AACA,qBAAKG,GAAL,CAASO,cAAT,CAAwB,KAAKH,iBAA7B;AACA,qBAAKJ,GAAL,GAAW,IAAX;AACH,aAjBL;;AAAA,6BAmBIQ,MAnBJ,qBAmBa;AAAA;;AACL,uBAAO,gBAAMC,aAAN,CAAoBV,SAApB,oBACA,KAAKW,KADL,uCAEFZ,QAFE,IAES,KAAKG,KAAL,CAAWC,OAFpB,mBAAP;AAIH,aAxBL;;AAAA,6BA2BIE,iBA3BJ,8BA2BsBJ,GA3BtB,EA2B2B;AACnB,qBAAKW,QAAL,CAAc;AACVT,6BAASF,IAAIY;AADH,iBAAd;AAGH,aA/BL;;AAAA;AAAA,UAAqB,gBAAMb,SAA3B;AAiCH,KAlCD;AAmCH","file":"decorator.js","sourcesContent":["/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\nimport React from 'react';\nimport { autobind } from 'core-decorators';\nimport { getMatchMedia, releaseMatchMedia } from '../lib/match-media';\n\n\nexport default function mqDecorator(query, propName = 'mqMatch') {\n    return function (Component) {\n        return class extends React.Component {\n            mql = null;\n\n            state = {\n                matched: false\n            };\n\n            componentDidMount() {\n                this.mql = getMatchMedia(query);\n                this.handleMatchChange(this.mql);\n                this.mql.addListener(this.handleMatchChange);\n            }\n\n            componentWillUnmount() {\n                releaseMatchMedia(query);\n                this.mql.removeListener(this.handleMatchChange);\n                this.mql = null;\n            }\n\n            render() {\n                return React.createElement(Component, {\n                    ...this.props,\n                    [propName]: this.state.matched\n                });\n            }\n\n            @autobind\n            handleMatchChange(mql) {\n                this.setState({\n                    matched: mql.matches\n                });\n            }\n        };\n    };\n}\n"]}